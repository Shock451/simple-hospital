[{"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\index.js":"1","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\serviceWorker.js":"2","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\App.js":"3","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\ScheduleAppointment.js":"4","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\Context.js":"5","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\Home.js":"6","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\Login.js":"7","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\ForgotPassword.js":"8","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\PatientList.js":"9","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\Readings.js":"10","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\ReadingsAdd.js":"11","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\ReadingsEdit.js":"12","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\DoctorMessage.js":"13","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\DoctorMessageList.js":"14","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\PatientMessage.js":"15","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\Register.js":"16","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\PatientMessageList.js":"17","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\components\\Loader.js":"18","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\Profile.js":"19","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\components\\PrivateRoute.js":"20","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\PatientDetails.js":"21","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\Appointments.js":"22","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\ScanReports.js":"23","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\RadiologyForm.js":"24","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\helpers\\api.js":"25","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\components\\Header.js":"26","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\components\\Sidebar.js":"27","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\helpers\\constants.js":"28","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\helpers\\functions.js":"29"},{"size":520,"mtime":1612490374879,"results":"30","hashOfConfig":"31"},{"size":5227,"mtime":1612205002127,"results":"32","hashOfConfig":"31"},{"size":4398,"mtime":1615065148383,"results":"33","hashOfConfig":"31"},{"size":7194,"mtime":1612491413360,"results":"34","hashOfConfig":"31"},{"size":172,"mtime":1612205017486,"results":"35","hashOfConfig":"31"},{"size":3353,"mtime":1613985186848,"results":"36","hashOfConfig":"31"},{"size":7306,"mtime":1612205017496,"results":"37","hashOfConfig":"31"},{"size":5498,"mtime":1612205002121,"results":"38","hashOfConfig":"31"},{"size":4985,"mtime":1612205002124,"results":"39","hashOfConfig":"31"},{"size":7096,"mtime":1617640319713,"results":"40","hashOfConfig":"31"},{"size":11107,"mtime":1617642307759,"results":"41","hashOfConfig":"31"},{"size":11970,"mtime":1613985187928,"results":"42","hashOfConfig":"31"},{"size":10885,"mtime":1612205017491,"results":"43","hashOfConfig":"31"},{"size":2806,"mtime":1612205017493,"results":"44","hashOfConfig":"31"},{"size":9653,"mtime":1612205017497,"results":"45","hashOfConfig":"31"},{"size":7611,"mtime":1613985188088,"results":"46","hashOfConfig":"31"},{"size":2809,"mtime":1612205017498,"results":"47","hashOfConfig":"31"},{"size":344,"mtime":1612806811154,"results":"48","hashOfConfig":"31"},{"size":15938,"mtime":1613985187024,"results":"49","hashOfConfig":"31"},{"size":856,"mtime":1613985186640,"results":"50","hashOfConfig":"31"},{"size":18303,"mtime":1617641303585,"results":"51","hashOfConfig":"31"},{"size":12734,"mtime":1612486174309,"results":"52","hashOfConfig":"31"},{"size":6606,"mtime":1615065153246,"results":"53","hashOfConfig":"31"},{"size":7143,"mtime":1615065153237,"results":"54","hashOfConfig":"31"},{"size":9705,"mtime":1615065149089,"results":"55","hashOfConfig":"31"},{"size":2651,"mtime":1612205017486,"results":"56","hashOfConfig":"31"},{"size":4897,"mtime":1615065148981,"results":"57","hashOfConfig":"31"},{"size":162,"mtime":1612205017490,"results":"58","hashOfConfig":"31"},{"size":3141,"mtime":1615065149194,"results":"59","hashOfConfig":"31"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"ingi1y",{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"62"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"62"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\index.js",[],["121","122"],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\serviceWorker.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\App.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\ScheduleAppointment.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\Context.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\Home.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\Login.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\ForgotPassword.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\PatientList.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\Readings.js",["123","124"],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\ReadingsAdd.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\ReadingsEdit.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\DoctorMessage.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\DoctorMessageList.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\PatientMessage.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\Register.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\PatientMessageList.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\components\\Loader.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\Profile.js",["125","126"],"import React, { useState, useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { BASE_URL } from '../helpers/constants';\r\nimport { fetchUserDetails } from '../helpers/api';\r\nimport Header from '../components/Header';\r\nimport Loader from '../components/Loader';\r\nimport Sidebar from '../components/Sidebar';\r\nimport { useAppContext } from \"../Context\";\r\nimport { formatDate, formatDateTime, convertDate } from \"../helpers/functions\";\r\n\r\nfunction Profile(props) {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isData, setData] = useState([]);\r\n    const [isError, setIsError] = useState(false);\r\n    const [errorMsg, setErrorMsg] = useState(\"\");\r\n    const [isSuccess, setIsSuccess] = useState(false);\r\n    const [successMsg, setSuccessMsg] = useState(\"\");\r\n\r\n    const { appState } = useAppContext();\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        async function fetchData() {\r\n            const response = await fetchUserDetails();\r\n            setData(response);\r\n            setIsLoading(false);\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    const { register, handleSubmit, errors, watch } = useForm();\r\n\r\n    async function updateProfile(changes) {\r\n        setIsLoading(true);\r\n        const token = localStorage.getItem('token');\r\n        const res = await fetch(BASE_URL + '/users/me', {\r\n            method: 'put',\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n                'Content-Type': \"application/json\",\r\n                'Accept': 'application/json',\r\n            },\r\n            body: JSON.stringify(changes)\r\n        }).catch(e => {\r\n            setIsLoading(false);\r\n            setIsError(true);\r\n            setErrorMsg(\"Unable to update. Try again after some time.\");\r\n            console.log(e);\r\n        });\r\n\r\n        if (res && res.status) {\r\n            const data = await res.json();\r\n            if (res.status === 200) {\r\n                setIsSuccess(true);\r\n                setIsLoading(false);\r\n                setIsError(false);\r\n                setErrorMsg('');\r\n                setSuccessMsg(data.msg);\r\n            } else {\r\n                setIsLoading(false);\r\n                setIsError(true);\r\n                setErrorMsg(data.err);\r\n                setSuccessMsg('');\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"main-wrapper\">\r\n            {\r\n                isLoading\r\n                    ?\r\n                    <Loader />\r\n                    :\r\n                    null\r\n            }\r\n            <Header data={props} />\r\n            <Sidebar data={props} />\r\n\r\n            <div className=\"page-wrapper\">\r\n                <div className=\"content container-fluid\">\r\n                    <div className=\"page-header\">\r\n                        <div className=\"row align-items-center\">\r\n                            <div className=\"col\">\r\n                                <h3 className=\"page-title\">Profile</h3>\r\n                                <ul className=\"breadcrumb\">\r\n                                    <li className=\"breadcrumb-item active\">Profile</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-12\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\">\r\n                                    <h4 className=\"card-title mb-0\">User Info</h4>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    {\r\n                                        isError\r\n                                            ?\r\n                                            <div className=\"alert alert-danger alert-dismissible\" role=\"alert\">\r\n                                                <button type=\"button\" className=\"close\" data-dismiss=\"alert\">\r\n                                                </button>\r\n                                                {errorMsg}\r\n                                            </div>\r\n                                            :\r\n                                            null\r\n                                    }\r\n                                    {\r\n                                        isSuccess\r\n                                            ?\r\n                                            <div className=\"alert alert-success alert-dismissible\" role=\"alert\">\r\n                                                <button type=\"button\" className=\"close\" data-dismiss=\"alert\">\r\n                                                </button>\r\n                                                {successMsg}\r\n                                            </div>\r\n                                            :\r\n                                            null\r\n                                    }\r\n                                    <form onSubmit={handleSubmit(updateProfile)}>\r\n                                        <div className=\"panel panel-default\">\r\n                                            <div className=\"panel-body\">\r\n                                                <div className=\"form-group row\">\r\n                                                    <div className=\"col-sm-4\">\r\n                                                        <label>Name <em>*</em></label>\r\n                                                        <input ref={register({ required: \"This field is required\" })} className=\"form-control\" name=\"name\" defaultValue={!isLoading ? isData.data.name : ''} />\r\n                                                        {errors.name && <label className=\"error\">{errors.name.message}</label>}\r\n                                                    </div>\r\n                                                    <div className=\"col-sm-4\">\r\n                                                        <label>Mobile <em>*</em></label>\r\n                                                        <input ref={register({\r\n                                                            required: \"This field is required\",\r\n                                                            pattern: {\r\n                                                                value: /^[0-9]*$/i,\r\n                                                                message: \"Please enter valid mobile number\"\r\n                                                            },\r\n                                                        })} className=\"form-control\" name=\"mobile\" defaultValue={!isLoading ? isData.data.mobile : ''} />\r\n                                                        {errors.mobile && <label className=\"error\">{errors.mobile.message}</label>}\r\n                                                    </div>\r\n                                                    <div className=\"col-sm-4\">\r\n                                                        <label>Email <em>*</em></label>\r\n                                                        <input ref={register({\r\n                                                            required: \"This field is required\",\r\n                                                            pattern: {\r\n                                                                value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n                                                                message: \"Please enter valid email address\"\r\n                                                            }\r\n                                                        })} className=\"form-control\" name=\"email\" type=\"email\" placeholder=\"Email Address\" defaultValue={!isLoading ? isData.data.email : ''} />\r\n                                                        {errors.email && <label className=\"error\">{errors.email.message}</label>}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"form-group row\">\r\n                                                    <div className=\"col-sm-6\">\r\n                                                        <label>Gender</label>\r\n                                                        <select ref={register} className=\"form-control\" name=\"gender\" defaultValue={!isLoading ? isData.data.gender : ''}>\r\n                                                            {/* <option value=\"\">Doctor</option> */}\r\n                                                            <option value=\"male\">Male</option>\r\n                                                            <option value=\"female\">Female</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                    <div className=\"col-sm-6\">\r\n                                                        <label>Address</label>\r\n                                                        <textarea ref={register} className=\"form-control\" name=\"address\" defaultValue={!isLoading ? isData.data.address : ''}></textarea>\r\n                                                    </div>\r\n                                                    {appState.user?.role === \"patient\" &&\r\n                                                        <div className=\"col-sm-6\">\r\n                                                            <label>Allergies</label>\r\n                                                            <textarea ref={register} className=\"form-control\" name=\"allergies\" defaultValue={!isLoading ? isData.data.allergies : ''}></textarea>\r\n                                                        </div>\r\n                                                    }\r\n                                                    <div className=\"col-sm-6\">\r\n                                                        <label>Description</label>\r\n                                                        <textarea ref={register} className=\"form-control\" name=\"description\" defaultValue={!isLoading ? isData.data.description : ''}></textarea>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"form-group row\">\r\n                                                    {appState.user?.role === \"doctor\" ?\r\n                                                        <div className=\"col-sm-4\">\r\n                                                            <label>License</label>\r\n                                                            <input ref={register} className=\"form-control\" name=\"license_num\" defaultValue={!isLoading ? isData.data.license_num : ''} />\r\n                                                        </div>\r\n                                                        :\r\n                                                        <div className=\"col-sm-4\">\r\n                                                            <label>Date of Birth</label>\r\n                                                            <input ref={register({\r\n                                                                required: \"This field is required\",\r\n                                                            })} className=\"form-control\" name=\"dob\" type=\"date\" defaultValue={!isLoading ? convertDate(isData.data.dob) : ''} min=\"\" max=\"\" />\r\n                                                        </div>\r\n                                                    }\r\n                                                    <div className=\"col-sm-4\">\r\n                                                        <label>City</label>\r\n                                                        <input ref={register} className=\"form-control\" name=\"city\" defaultValue={!isLoading ? isData.data.city : ''} />\r\n                                                    </div>\r\n                                                    <div className=\"col-sm-4\">\r\n                                                        <label>State</label>\r\n                                                        <input ref={register} className=\"form-control\" name=\"state\" defaultValue={!isLoading ? isData.data.state : ''} />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"panel panel-default\">\r\n                                                <div className=\"panel-heading\">\r\n                                                    <h6 className=\"panel-title\"><i className=\"icon-office\"></i>Change Password</h6>\r\n                                                </div>\r\n                                                <div className=\"panel-body\">\r\n                                                    <div className=\"form-group\">\r\n                                                        <div className=\"row\">\r\n                                                            <div className=\"col-sm-4\">\r\n                                                                <label>Old Password </label>\r\n                                                                <input ref={register} type=\"password\" className=\"form-control\" name=\"old_password\" id=\"old-password\" />\r\n                                                                <span className=\"help-block\">Leave blank if you don't want to change password</span>\r\n                                                            </div>\r\n                                                            <div className=\"col-sm-4\">\r\n                                                                <label>New Password </label>\r\n                                                                <input ref={register} type=\"password\" className=\"form-control\" name=\"password\" id=\"password\" />\r\n\r\n                                                            </div>\r\n                                                            <div className=\"col-sm-4\">\r\n                                                                <label>Retype New Password </label>\r\n                                                                <input ref={register({\r\n                                                                    validate: (value) => {\r\n                                                                        return value === watch('password') || \"Passwords don't match.\"\r\n                                                                    }\r\n                                                                })} type=\"password\" className=\"form-control\" name=\"password2\" id=\"password2\" />\r\n                                                                {errors.password2 && <label className=\"error\">{errors.password2.message}</label>}\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"form-actions text-right\">\r\n                                                <button type=\"submit\" name=\"update\" id=\"update\" className=\"btn btn-danger\"><i className=\"icon-signup\"></i>Update Profile</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Profile;","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\components\\PrivateRoute.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\PatientDetails.js",["127","128","129"],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\Appointments.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\ScanReports.js",["130","131","132"],"import React, { useState, useEffect } from \"react\";\r\n// import { Link } from 'react-router-dom';\r\nimport { fetchMyScanReports } from '../helpers/api';\r\nimport Header from '../components/Header';\r\nimport Loader from '../components/Loader';\r\nimport Sidebar from '../components/Sidebar';\r\n// import { BASE_URL } from '../helpers/constants';\r\n// import { convertDate, calculateBMI } from '../helpers/functions';\r\n\r\nfunction ScanReports(props) {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [reports, setReports] = useState([]);\r\n    const [isError, setIsError] = useState(false);\r\n    const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n    async function fetchData() {\r\n        setIsLoading(true);\r\n        const { data } = await fetchMyScanReports();\r\n        setReports(data);\r\n        setIsLoading(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    // function deletePatient(id) {\r\n    //     setIsLoading(true);\r\n    //     const token = localStorage.getItem('token');\r\n    //     let status;\r\n    //     fetch(BASE_URL + '/patients/readings/' + id, {\r\n    //         method: 'DELETE',\r\n    //         headers: {\r\n    //             'Authorization': `Bearer ${token}`,\r\n    //             'Content-Type': \"application/json\",\r\n    //             'Accept': 'application/json',\r\n    //         }\r\n    //     }).then((response) => {\r\n    //         status = response.status;\r\n    //         return response.json();\r\n    //     })\r\n    //         .then((result) => {\r\n    //             if (status) {\r\n    //                 setIsLoading(false);\r\n    //                 props.history.push({\r\n    //                     pathname: \"/readings\",\r\n    //                     state: {\r\n    //                         success: \"Reading deleted successfully\"\r\n    //                     }\r\n    //                 });\r\n    //                 fetchData();\r\n    //             } else {\r\n    //                 setIsLoading(false);\r\n    //                 setIsError(true);\r\n    //                 setErrorMsg(result.message);\r\n    //             }\r\n    //         }).catch(e => {\r\n    //             setIsLoading(false);\r\n    //             setIsError(true);\r\n    //             setErrorMsg(\"Not able to connect with API try again after sometime.\");\r\n    //             console.log(e);\r\n    //         });\r\n    // }\r\n\r\n    return (\r\n        <div className=\"main-wrapper\">\r\n            {\r\n                isLoading\r\n                    ?\r\n                    <Loader />\r\n                    :\r\n                    null\r\n            }\r\n            <Header data={props} />\r\n            <Sidebar data={props} />\r\n\r\n            <div className=\"page-wrapper\">\r\n                <div className=\"content container-fluid\">\r\n                    <div className=\"page-header\">\r\n                        <div className=\"row align-items-center\">\r\n                            <div className=\"col\">\r\n                                <h3 className=\"page-title\">Reports</h3>\r\n                                <ul className=\"breadcrumb\">\r\n                                    <li className=\"breadcrumb-item active\">Reports</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        props.location.state\r\n                            ?\r\n                            props.location.state.success\r\n                                ?\r\n                                <div className=\"alert alert-success alert-dismissible\" role=\"alert\">\r\n                                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\">\r\n                                    </button> {props.location.state.success}\r\n                                </div>\r\n                                :\r\n                                null\r\n                            :\r\n                            null\r\n                    }\r\n                    {\r\n                        isError\r\n                            ?\r\n                            <div className=\"alert alert-danger alert-dismissible\" role=\"alert\">\r\n                                <button type=\"button\" className=\"close\" data-dismiss=\"alert\">\r\n                                </button>\r\n                                {errorMsg}\r\n                            </div>\r\n                            :\r\n                            null\r\n                    }\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-12\">\r\n                            <table className=\"table table-striped custom-table mb-0\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>#</th>\r\n                                        {/* {} */}\r\n                                        <th>Description</th>\r\n                                        <th>Image</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                {\r\n                                    !isLoading\r\n                                        ?\r\n                                        <tbody>\r\n                                            {\r\n                                                reports.map(function (data, index) {\r\n                                                    return (\r\n                                                        <tr key={data.id}>\r\n                                                            <td>{index + 1}</td>\r\n                                                            <td>{data.report}</td>\r\n                                                            <td>\r\n                                                                <a target=\"_blank\" href={`${data.image_uri}`}>\r\n                                                                    View Image\r\n                                                                </a>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    )\r\n                                                })\r\n                                            }\r\n                                        </tbody>\r\n                                        :\r\n                                        null\r\n                                }\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default ScanReports;","C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\pages\\RadiologyForm.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\helpers\\api.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\components\\Header.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\components\\Sidebar.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\helpers\\constants.js",[],"C:\\Users\\HP\\Desktop\\Boluwarin\\doctor-patient-portal\\src\\helpers\\functions.js",[],{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","replacedBy":"136"},{"ruleId":"137","severity":1,"message":"138","line":2,"column":10,"nodeType":"139","messageId":"140","endLine":2,"endColumn":14},{"ruleId":"137","severity":1,"message":"141","line":27,"column":14,"nodeType":"139","messageId":"140","endLine":27,"endColumn":27},{"ruleId":"137","severity":1,"message":"142","line":9,"column":10,"nodeType":"139","messageId":"140","endLine":9,"endColumn":20},{"ruleId":"137","severity":1,"message":"143","line":9,"column":22,"nodeType":"139","messageId":"140","endLine":9,"endColumn":36},{"ruleId":"137","severity":1,"message":"144","line":2,"column":30,"nodeType":"139","messageId":"140","endLine":2,"endColumn":50},{"ruleId":"145","severity":1,"message":"146","line":35,"column":8,"nodeType":"147","endLine":35,"endColumn":10,"suggestions":"148"},{"ruleId":"149","severity":1,"message":"150","line":306,"column":65,"nodeType":"151","endLine":306,"endColumn":111},{"ruleId":"137","severity":1,"message":"152","line":13,"column":21,"nodeType":"139","messageId":"140","endLine":13,"endColumn":31},{"ruleId":"137","severity":1,"message":"153","line":14,"column":22,"nodeType":"139","messageId":"140","endLine":14,"endColumn":33},{"ruleId":"149","severity":1,"message":"150","line":136,"column":65,"nodeType":"151","endLine":136,"endColumn":111},"no-native-reassign",["154"],"no-negated-in-lhs",["155"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'deletePatient' is defined but never used.","'formatDate' is defined but never used.","'formatDateTime' is defined but never used.","'fetchPatientReadings' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.","ArrayExpression",["156"],"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement","'setIsError' is assigned a value but never used.","'setErrorMsg' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"157","fix":"158"},"Update the dependencies array to be: [id]",{"range":"159","text":"160"},[1322,1324],"[id]"]